(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{198:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/spec14-7772639fdc38d83fd4e421e503d8b06f.png"},199:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/spec15-1163eb216efc54e86e36012e7908af6c.png"},200:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/spec16-f78eb467a928f59a81a44d3450f4fe47.png"},87:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return s})),a.d(t,"toc",(function(){return l})),a.d(t,"default",(function(){return u}));var n=a(3),r=a(7),i=(a(0),a(92)),o=["components"],c={id:"contact_details",title:"Contact Details API"},s={unversionedId:"contact_details",id:"contact_details",isDocsHomePage:!1,title:"Contact Details API",description:"Purpose",source:"@site/docs/contact_details.md",slug:"/contact_details",permalink:"/api-specifications/contact_details",editUrl:"https://github.com/LBHackney-IT/api-specifications/edit/master/docs/contact_details.md",version:"current",sidebar:"docs",previous:{title:"Configuration",permalink:"/api-specifications/configuration"},next:{title:"Housing Search API",permalink:"/api-specifications/housing_search"}},l=[{value:"Purpose",id:"purpose",children:[]},{value:"Vision",id:"vision",children:[]},{value:"Data meetup outcome (30/03/2021)",id:"data-meetup-outcome-30032021",children:[]},{value:"Considerations",id:"considerations",children:[]},{value:"Questions",id:"questions",children:[]},{value:"Our User and their needs",id:"our-user-and-their-needs",children:[]},{value:"Dependent Entities",id:"dependent-entities",children:[]},{value:"Example payload",id:"example-payload",children:[]},{value:"Governance around Contact Details Data",id:"governance-around-contact-details-data",children:[]}],d={toc:l};function u(e){var t=e.components,c=Object(r.a)(e,o);return Object(i.b)("wrapper",Object(n.a)({},d,c,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"purpose"},"Purpose"),Object(i.b)("p",null,"The purpose of this document is to propose the implementation of a Contact Details microservice to interact with contact details data we hold for a person/organization. In the initial implementation, the microservice will focus on the Housing domain, but it should be built in a reusable way so it can be extended to other service areas in the future.  "),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Contact details can be related to a person/organization and include one or multiple (both historical and current)"),Object(i.b)("li",{parentName:"ul"},"email address"),Object(i.b)("li",{parentName:"ul"},"phone numbers"),Object(i.b)("li",{parentName:"ul"},"correspondence address/es (if any)"),Object(i.b)("li",{parentName:"ul"},"forwarding addresses (if any)")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"}," Note: "),"  A contact detail (e.g. phone number or forwarding address), might be different for a person depending on the service area it is used for. For example, a person might have provided a specific phone number to be used by Social care for contacting them, and a different one to Housing.\nThis means that we do not have the concept of \u2018default\u2019 phone/email/address overall. There could be a default one per service area.\nWe cannot be sharing contact details to be used by different service areas, unless an explicit consent has been provided (currently no mechanism to capture this, it involves a complex process and has been deprioritized)."),Object(i.b)("p",null,"The above is important to be considered as this microservice should be built in a way to be reused by multiple service areas and security around data sharing should be included in the design."),Object(i.b)("h2",{id:"vision"},"Vision"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"A single, centralized data source, holding contact details data for a person/organization, updated by multiple services."),Object(i.b)("li",{parentName:"ul"},"A reusable microservice API used for managing that data."),Object(i.b)("li",{parentName:"ul"},"Avoidance of any duplication of data, a normalised view and consistency across the board.")),Object(i.b)("h2",{id:"data-meetup-outcome-30032021"},"Data meetup outcome (30/03/2021)"),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://ideaflip.com/b/bk558iy45tyt/"},"https://ideaflip.com/b/bk558iy45tyt/")),Object(i.b)("p",null,Object(i.b)("img",{alt:"API",src:a(198).default})),Object(i.b)("h2",{id:"considerations"},"Considerations"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"When we record addresses, if they are UK addresses, we should record the UPRN"),Object(i.b)("li",{parentName:"ul"},"Sub-type of a contact detail should help us capture data in a more structured manner (previously there were issues with data quality - e.g. a phone number value will be \u201c0791121212121 - Daughter \u201c)"),Object(i.b)("li",{parentName:"ul"},"Contact details should not be used across different service areas without explicit consent."),Object(i.b)("li",{parentName:"ul"},"Contact details can be against other entities - for example, we should be able to record a phone number of a solicitor against a lease agreement (tenure)"),Object(i.b)("li",{parentName:"ul"},"Restricting fields data type - e.g. phone numbers should only allow numbers"),Object(i.b)("li",{parentName:"ul"},"Data entity to be designed in a generic way so it can be used for other use cases - e.g. different type of contact addresses Social care uses")),Object(i.b)("h2",{id:"questions"},"Questions"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Do we have the concept of default number within a service area, or does this need to be done down to individual teams level?"),Object(i.b)("li",{parentName:"ul"},"Are teams within the same service area happy to mark a number as \u2018historic\u2019 that another team might be using?"),Object(i.b)("li",{parentName:"ul"},"Should we record preferred contact method?")),Object(i.b)("h2",{id:"our-user-and-their-needs"},"Our User and their needs"),Object(i.b)("p",null," ",Object(i.b)("strong",{parentName:"p"}," As a service user I want to see: ")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"The contact phone number(s) for informed communication."),Object(i.b)("li",{parentName:"ul"},"History of correspondence addresses"),Object(i.b)("li",{parentName:"ul"},"Forwarding addresses for future correspondence"),Object(i.b)("li",{parentName:"ul"},"Email address(es) for informed communication."),Object(i.b)("li",{parentName:"ul"},"Endpoints to be created"),Object(i.b)("li",{parentName:"ul"},"GET /contact-details/{id} //will we ever have a use case to retrieve a single contact details record?"),Object(i.b)("li",{parentName:"ul"},"GET /contact-details?targetId={id}&includeHistoric=true //id of person/organization to retrieve all contact details, with optional filtering of whether historic details should be included. Default should be false."),Object(i.b)("li",{parentName:"ul"},"POST /contact-details"),Object(i.b)("li",{parentName:"ul"},"Inserts a new contact details record"),Object(i.b)("li",{parentName:"ul"},"PUT /contact-details/{id}"),Object(i.b)("li",{parentName:"ul"},"Updates a contact details record."),Object(i.b)("li",{parentName:"ul"},"In previous use cases, value of record was not updated - e.g. if a new phone number is created, a new record was added and old record was marked as inactive if applicable"),Object(i.b)("li",{parentName:"ul"},"Fields that should be updatable -\nactive"),Object(i.b)("li",{parentName:"ul"},"isDefault (under sourceServiceArea)\ndescription (under contactInformation)")),Object(i.b)("h2",{id:"dependent-entities"},"Dependent Entities"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Person"),Object(i.b)("li",{parentName:"ol"},"Organization")),Object(i.b)("h2",{id:"example-payload"},"Example payload"),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://app.swaggerhub.com/apis/Hackney/contactDetailsApi/1.0.0"},"https://app.swaggerhub.com/apis/Hackney/contactDetailsApi/1.0.0")),Object(i.b)("p",null,"Each contact detail record (e.g. one phone number / a correspondence address / an email) will be a separate record, associated with the same targetId (person/organization id). Eg :If a person has 10 correspondence addresses then we will have 10 records with the same target id."),Object(i.b)("p",null,Object(i.b)("img",{alt:"API",src:a(199).default})),Object(i.b)("p",null,Object(i.b)("img",{alt:"API",src:a(200).default})),Object(i.b)("h2",{id:"governance-around-contact-details-data"},"Governance around Contact Details Data"),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://docs.google.com/document/d/124t3pPXvNaZ5VVo_SUXJeh6JTM5pchAVTnpIv2MXuno/edit#heading=h.bpe1osq9adg2"},"https://docs.google.com/document/d/124t3pPXvNaZ5VVo_SUXJeh6JTM5pchAVTnpIv2MXuno/edit#heading=h.bpe1osq9adg2")))}u.isMDXComponent=!0},92:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=r.a.createContext({}),d=function(e){var t=r.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},u=function(e){var t=d(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=d(a),b=n,m=u["".concat(o,".").concat(b)]||u[b]||p[b]||i;return a?r.a.createElement(m,c(c({ref:t},l),{},{components:a})):r.a.createElement(m,c({ref:t},l))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=b;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:n,o[1]=c;for(var l=2;l<i;l++)o[l]=a[l];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,a)}b.displayName="MDXCreateElement"}}]);