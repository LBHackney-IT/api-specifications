<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/api-specifications/blog/rss.xml" title="Hackney API Specifications Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/api-specifications/blog/atom.xml" title="Hackney API Specifications Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Hackney API Specifications" href="/api-specifications/opensearch.xml"><title data-react-helmet="true">Accounts API | Hackney API Specifications</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Accounts API | Hackney API Specifications"><meta data-react-helmet="true" name="description" content="Purpose"><meta data-react-helmet="true" property="og:description" content="Purpose"><meta data-react-helmet="true" property="og:url" content="https://lbhackney-it.github.io/api-specifications/api-specifications/accounts-api"><link data-react-helmet="true" rel="shortcut icon" href="/api-specifications/img/favicon.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://lbhackney-it.github.io/api-specifications/api-specifications/accounts-api"><link rel="stylesheet" href="/api-specifications/styles.cd915cb9.css">
<link rel="stylesheet" href="/api-specifications/main.4a16e2e4.css">
<link rel="preload" href="/api-specifications/styles.9b1e01e2.js" as="script">
<link rel="preload" href="/api-specifications/runtime~main.5cdfd53b.js" as="script">
<link rel="preload" href="/api-specifications/main.51b115f9.js" as="script">
<link rel="preload" href="/api-specifications/1.8ee861b6.js" as="script">
<link rel="preload" href="/api-specifications/2.51be117b.js" as="script">
<link rel="preload" href="/api-specifications/26.4fc2d966.js" as="script">
<link rel="preload" href="/api-specifications/29.53b2fd4c.js" as="script">
<link rel="preload" href="/api-specifications/935f2afb.bf74d2b3.js" as="script">
<link rel="preload" href="/api-specifications/17896441.5b7b55dd.js" as="script">
<link rel="preload" href="/api-specifications/e176f038.239dbc04.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/api-specifications/"><img src="/api-specifications/img/logo-long.svg" alt="API Specifications" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/api-specifications/img/logo-long.svg" alt="API Specifications" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">API Specifications</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/LBHackney-IT/api-specifications" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/api-specifications/"><img src="/api-specifications/img/logo-long.svg" alt="API Specifications" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/api-specifications/img/logo-long.svg" alt="API Specifications" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">API Specifications</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/LBHackney-IT/api-specifications" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Home</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-specifications/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-specifications/assessment_process">Assessment Process</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Specifications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/api-specifications/activities_api">Activity History API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/api-specifications/asset_info">Asset Information API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/api-specifications/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/api-specifications/contact_details">Contact Details API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/api-specifications/housing_search">Housing Search API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/api-specifications/notes">Notes API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/api-specifications/organisations">Organisations API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/api-specifications/person-api">Person API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/api-specifications/search_api">Search API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/api-specifications/tenure_api">Tenure API</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/api-specifications/accounts-api">Accounts API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/api-specifications/notifications-api">Notifications API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/api-specifications/patches-api">Patches API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/api-specifications/equality-information-api">Equality Information API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/api-specifications/processes-api">Processes API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contact Us</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-specifications/contact_us">Contact Our Development Team</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Accounts API</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="purpose"></a>Purpose<a class="hash-link" href="#purpose" title="Direct link to heading">#</a></h2><p>To identify all information to be captured with regards to the Accounts domain.
As part of our solution we are proposing to develop an Account entity and API that will serve accounts related data for our housing streams and any other projects that may require information relating to an account. This means that we can offer a deeper, more citizen-centric self-service capability, enabling even more service transactions to be carried out online.
For the purposes of establishing context, the definition of an account as it relates to this entity is a record of a financial basis that links a user to a service. </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="functions"></a>Functions<a class="hash-link" href="#functions" title="Direct link to heading">#</a></h2><ul><li>Accounts - Account information relating to a person or organisation.  This could be for a person’s rent account, benefit account or any other account a person (or organisation) may hold with the council.</li><li>Accounts in arrears - Accounts in arrears categorised by account types (service charges, major works, secure tenancies, non-secure tenancies)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="vision"></a>Vision<a class="hash-link" href="#vision" title="Direct link to heading">#</a></h2><p>A single, centralized data source, holding all account data, updated by multiple services.
A reusable microservice API used for managing account related data.
Avoidance of any duplication of data, a normalised view of an account.
Reducing development costs across all streams.
A decoupled architecture that allows this entity to be reused across multiple services.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="user-needs"></a>User Needs<a class="hash-link" href="#user-needs" title="Direct link to heading">#</a></h2><ul><li>As a service user I would like to see what accounts I have for the various services I subscribe to with the council so that I can have a clear view of what my financial status is with regards to the council.</li><li>As a service user I would like to see what my account balance is with each service that I subscribe to so that I can see what financial commitments I have.</li><li>As a caseworker I would like to be able to quickly identify accounts that are in arrears so that I can prioritise cases that need to be actioned more effectively.</li><li>As a developer, I want to:<ul><li>Reuse a single Accounts microservice so that development efforts can be focused on other requirements.</li><li>Ensure data updated, retrieved and inserted is consistent across services and reliable.</li><li>Have an easy way to retrieve any data related to an account so that I don’t need to make additional calls to find references for related systems.</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="data-meetup-outcome"></a>Data Meetup Outcome<a class="hash-link" href="#data-meetup-outcome" title="Direct link to heading">#</a></h2><p>Accounts workshop - <a href="https://ideaflip.com/b/75dgi3rx6h2t/" target="_blank" rel="noopener noreferrer">https://ideaflip.com/b/75dgi3rx6h2t/</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="endpoints-to-be-created"></a>Endpoints to be created<a class="hash-link" href="#endpoints-to-be-created" title="Direct link to heading">#</a></h2><ol><li><p>GET <strong>//accounts?targetId={targetId}&amp;type={accountType}</strong></p><p><strong>Function:</strong> Gets a collection of accounts for a person or organisation</p><p><strong>Response Payload:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;id&quot;: &quot;74c5fbc4-2fc8-40dc-896a-0cfa671fc832&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “paymentReference”: “[to confirm format]”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “parentAccount”:”[id of the master account]”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “targetType”: “Tenure”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;targetId&quot;: &quot;123456&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “accountType”: “Recharge, Sundry, Master, etc”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “rentGroupType”: “Major Works, etc”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “agreementType”: “M, R, S, X”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;accountBalance&quot;: 317.54,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastUpdated&quot;: &quot;2021-03-29T15:10:37.471Z&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;startDate&quot;: &quot;2021-03-29T15:10:37.471Z&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;endDate&quot;: &quot;2015-07-20&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;accountStatus&quot;: &quot;active&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;consolidatedCharges&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;type&quot;: &quot;rent&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;frequency&quot;:&quot;weekly&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;amount&quot;:101.20”</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;type&quot;: &quot;service charges&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;frequency&quot;:&quot;weekly&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;amount&quot;:100.20”</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                } </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;tenure&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;tenancyId&quot;: 31254,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;tenancyType&quot;: &quot;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            “primaryTenants”:[</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                “fullName”:””,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                “fullName”:””</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            “fullAddress”,”1 Hillman Street, Hackney, E8 1DY”</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>GET <strong>/accounts/arrears?type={accountType}&amp;sort={propertyName}&amp;direction={asc/desc}&amp;resultsCount=[number of items]</strong></p><p><strong>Function:</strong> Gets a collection of accounts that are in arrears</p><p><strong>Response Payload:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;id&quot;: &quot;74c5fbc4-2fc8-40dc-896a-0cfa671fc832&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “paymentReference”: “[to confirm format]”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “parentAccount”:”[id of the master account]”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “targetType”: “Tenure”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;targetId&quot;: &quot;123456&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “accountType”: “Recharge, Sundry, Master, etc”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “rentGroupType”: “Major Works, etc”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “agreementType”: “”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;accountBalance&quot;: 317.54,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;lastUpdated&quot;: &quot;2021-03-29T15:10:37.471Z&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;startDate&quot;: &quot;2021-03-29T15:10:37.471Z&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;endDate&quot;: &quot;2015-07-20&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;accountStatus&quot;: &quot;active&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;consolidatedCharges&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;type&quot;: &quot;rent&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;frequency&quot;:&quot;weekly&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;amount&quot;:101.20”</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;type&quot;: &quot;service charges&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;frequency&quot;:&quot;weekly&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;amount&quot;:100.20”</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                    } ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;tenure&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;tenancyId&quot;: 31254,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;tenancyType&quot;: &quot;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “primaryTenants”:[</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            “fullName”:””,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            “fullName”:””</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ],            </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “fullAddress”,”1 Hillman Street, Hackney, E8 1DY”</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>GET <strong>/accounts/{id}</strong></p><p><strong>Function:</strong> Gets a single account record from the supplied id</p><p><strong>Response Payload: </strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;id&quot;: &quot;74c5fbc4-2fc8-40dc-896a-0cfa671fc832&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “paymentReference”: “[to confirm format]”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “parentAccount”:”[id of the master account]”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “targetType”: “Tenure”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;targetId&quot;: &quot;123456&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “accountType”: “Recharge, Sundry, Master, etc”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “rentGroupType”: “Major Works, etc”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “agreementType”: “”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;accountBalance&quot;: 317.54,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;lastUpdated&quot;: &quot;2021-03-29T15:10:37.471Z&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;startDate&quot;: &quot;2021-03-29T15:10:37.471Z&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;endDate&quot;: &quot;2015-07-20&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;accountStatus&quot;: &quot;active&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;consolidatedCharges&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;type&quot;: &quot;rent&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;frequency&quot;:&quot;weekly&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;amount&quot;:101.20”</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;type&quot;: &quot;service charges&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;frequency&quot;:&quot;weekly&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;amount&quot;:100.20”</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                } ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;tenure&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;tenancyId&quot;: 31254,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;tenancyType&quot;: &quot;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “primaryTenants”:[</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “fullName”:””,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “fullName”:””</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “fullAddress”,”1 Hillman Street, Hackney, E8 1DY”</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>POST <strong>/accounts</strong></p><p><strong>Function:</strong> Creates a new account for a person</p><p><strong>Request Payload:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “TargetType”: “Tenure, Licensing, HousingBenefit”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “TargetId”: 123456, //id of target entity, e.g. tenure record</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “accountType”: “Recharge, Master, etc”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “rentGroupType”: “Major Works, etc”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “agreementType”:””,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “StartDate”:  “2021-03-29T15:10:37.471Z”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “AccountStatus”: “active”</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Response Payload:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;id&quot;: &quot;74c5fbc4-2fc8-40dc-896a-0cfa671fc832&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “paymentReference”: “[to confirm format]”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “parentAccount”:”[id of the master account]”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “TargetId”: 123456, //id of target entity, e.g. tenure record</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “TargetType”: “Tenure, Licensing, HousingBenefit”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “AccountBalance”: 0,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “StartDate”:  “2021-03-29T15:10:37.471Z”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “EndDate”: null,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “AccountStatus”: “active”</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>PATCH <strong>/accounts/{id}</strong></p><p><strong>Function:</strong> Updates a person’s account details</p><p><strong>Request Payload:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “AccountBalance”: “10.00”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “StartDate”: “2021-03-29T15:10:37.471Z”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “EndDate”:  “2021-03-29T15:10:37.471Z”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “AccountStatus”: “active”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “accountType”: “Recharge, Master, etc”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “rentGroupType”: “Major Works, etc”,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    “agreementType”:””,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;consolidatedCharges&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;type&quot;: &quot;rent&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;frequency&quot;:&quot;weekly&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;amount&quot;:101.20”</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;type&quot;: &quot;service charges&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;frequency&quot;:&quot;weekly&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;amount&quot;:100.20”</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;tenure&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;tenancyId&quot;: 31254,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;tenancyType&quot;: &quot;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “primaryTenants”:[</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            “fullName”:””,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            “fullName”:””</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        “fullAddress”,”1 Hillman Street, Hackney, E8 1DY”</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="propertiescolumn-mappings"></a>Properties/Column Mappings<a class="hash-link" href="#propertiescolumn-mappings" title="Direct link to heading">#</a></h2><p>The following db columns have been identified as common and useful in the context of an account.</p><table><thead><tr><th>Name</th><th>Type</th><th>Table Field Name</th><th>Description</th></tr></thead><tbody><tr><td>Id</td><td>UUID</td><td>id</td><td>A unique id in the database</td></tr><tr><td>TargetId</td><td>String</td><td>target_id</td><td>A reference to the person holding this account</td></tr><tr><td>TargetType</td><td>String</td><td>target_type</td><td>Referenced from the collection of target types sub table</td></tr><tr><td>AccountType</td><td>String</td><td>account_type</td><td>The type of account, eg Recharge, Sundry, Master</td></tr><tr><td>RentGroupType</td><td>String</td><td>rent_group_type</td><td>Eg MajorWorks</td></tr><tr><td>AgreementType</td><td>String</td><td>agreement_type</td><td></td></tr><tr><td>AccountBalance</td><td>Number</td><td>account_balance</td><td>The current balance of the account (calculated based on activity on the account such as charges, payments, etc)</td></tr><tr><td>PaymentReference</td><td>String/Varchar</td><td>payment_reference</td><td>A user friendly reference for an account (calculated - Ibrahim has the formula)</td></tr><tr><td>CreatedDate</td><td>TimeStamp</td><td>created_date</td><td>The date the account was created</td></tr><tr><td>CreatedBy</td><td>String</td><td>created_by</td><td>The user who created the record</td></tr><tr><td>LastUpdatedBy</td><td>String</td><td>last_updated_by</td><td>The last user who updated the record</td></tr><tr><td>LastUpdatedDate</td><td>TimeStamp</td><td>last_updated</td><td>When last the account record was updated</td></tr><tr><td>StartDate</td><td>TimeStamp</td><td>start_date</td><td>Date the account was opened</td></tr><tr><td>EndDate</td><td>TimeStamp</td><td>end_date</td><td>Date the account was closed</td></tr><tr><td>EndReasonCode</td><td>String</td><td>end_reason_code</td><td>The reason for the account ending</td></tr><tr><td>ConsolidatedCharges</td><td>Object</td><td>consolidated_charges</td><td>See breakdown of consolidated charges</td></tr><tr><td>AccountStatus</td><td>String</td><td>account_status</td><td>Active, suspended or ended</td></tr></tbody></table><p><strong>Target Types</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Table Field Name</th><th>Description</th></tr></thead><tbody><tr><td>Id</td><td>UUID</td><td>id</td><td>A unique id in the database</td></tr><tr><td>TargetType</td><td>String</td><td>target_type</td><td>The type of the target</td></tr><tr><td>Polarity</td><td>String</td><td>polarity</td><td>Determine whether or not a positive amount is a payment to someone or a payment from someone.</td></tr></tbody></table><p><strong>Consolidated Charges</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Table Field Name</th><th>Description</th></tr></thead><tbody><tr><td>Type</td><td>String</td><td></td><td>The type of charge/s</td></tr><tr><td>Frequency</td><td>String</td><td></td><td>How often the charge/s get applied</td></tr><tr><td>Amount</td><td>Number</td><td></td><td>The consolidated charge amount</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="other-considerations"></a>Other considerations<a class="hash-link" href="#other-considerations" title="Direct link to heading">#</a></h2><ul><li>How do we reflect positive and negative activities on an account?  </li><li>Do we need to supply an account balance at a specific date? - Let’s not do this.</li><li>Do we want to have a further breakdown within this API of what makes up an account balance?</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="dependent-entities"></a>Dependent Entities<a class="hash-link" href="#dependent-entities" title="Direct link to heading">#</a></h2><ul><li>Tenants &amp; Leaseholders</li><li>Income Services</li><li>Revenue &amp; Benefits</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="component-architecture"></a>Component Architecture<a class="hash-link" href="#component-architecture" title="Direct link to heading">#</a></h2><p><img alt="Accounts API component architecture" src="/api-specifications/assets/images/accounts_api_component_architecture-f391a4d6803b154613d4ca208e61defc.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="event-driven-architecture"></a>Event Driven Architecture<a class="hash-link" href="#event-driven-architecture" title="Direct link to heading">#</a></h2><p><img alt="Accounts API event driven architecture" src="/api-specifications/assets/images/accounts_event_driven_arch-7d4d87bd17b897b84f117cb49bdb5ad9.png"></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/LBHackney-IT/api-specifications/edit/master/docs/accounts-api.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/api-specifications/tenure_api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Tenure API</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/api-specifications/notifications-api"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Notifications API »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#purpose" class="table-of-contents__link">Purpose</a></li><li><a href="#functions" class="table-of-contents__link">Functions</a></li><li><a href="#vision" class="table-of-contents__link">Vision</a></li><li><a href="#user-needs" class="table-of-contents__link">User Needs</a></li><li><a href="#data-meetup-outcome" class="table-of-contents__link">Data Meetup Outcome</a></li><li><a href="#endpoints-to-be-created" class="table-of-contents__link">Endpoints to be created</a></li><li><a href="#propertiescolumn-mappings" class="table-of-contents__link">Properties/Column Mappings</a></li><li><a href="#other-considerations" class="table-of-contents__link">Other considerations</a></li><li><a href="#dependent-entities" class="table-of-contents__link">Dependent Entities</a></li><li><a href="#component-architecture" class="table-of-contents__link">Component Architecture</a></li><li><a href="#event-driven-architecture" class="table-of-contents__link">Event Driven Architecture</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Made by HackIT.</div></div></div></footer></div>
<script src="/api-specifications/styles.9b1e01e2.js"></script>
<script src="/api-specifications/runtime~main.5cdfd53b.js"></script>
<script src="/api-specifications/main.51b115f9.js"></script>
<script src="/api-specifications/1.8ee861b6.js"></script>
<script src="/api-specifications/2.51be117b.js"></script>
<script src="/api-specifications/26.4fc2d966.js"></script>
<script src="/api-specifications/29.53b2fd4c.js"></script>
<script src="/api-specifications/935f2afb.bf74d2b3.js"></script>
<script src="/api-specifications/17896441.5b7b55dd.js"></script>
<script src="/api-specifications/e176f038.239dbc04.js"></script>
</body>
</html>