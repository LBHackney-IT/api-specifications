(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{63:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return s})),t.d(n,"toc",(function(){return p})),t.d(n,"default",(function(){return u}));var a=t(3),r=t(7),l=(t(0),t(97)),c=["components"],o={id:"contracts_api",title:"Contracts API"},s={unversionedId:"contracts_api",id:"contracts_api",isDocsHomePage:!1,title:"Contracts API",description:"Purpose",source:"@site/docs/contracts_api.md",slug:"/contracts_api",permalink:"/api-specifications/contracts_api",editUrl:"https://github.com/LBHackney-IT/api-specifications/edit/master/docs/contracts_api.md",version:"current"},p=[{value:"Purpose",id:"purpose",children:[]},{value:"Our users and their needs",id:"our-users-and-their-needs",children:[]},{value:"Workshops",id:"workshops",children:[]},{value:"Endpoints to be created",id:"endpoints-to-be-created",children:[{value:"Get Contracts:",id:"get-contracts",children:[]},{value:"POST Contracts:",id:"post-contracts",children:[]},{value:"PATCH Contracts:",id:"patch-contracts",children:[]},{value:"PUT Contracts:",id:"put-contracts",children:[]},{value:"DELETE Contracts:",id:"delete-contracts",children:[]}]}],i={toc:p};function u(e){var n=e.components,t=Object(r.a)(e,c);return Object(l.b)("wrapper",Object(a.a)({},i,t,{components:n,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"purpose"},"Purpose"),Object(l.b)("p",null,"The temporary housing platform requires an agreement in place which provides a model representing the details to enbable the use of the property by Hackney contractually. "),Object(l.b)("p",null,"As part of our solution, we are proposing to develop the Contracts API. This API will be designed to keep the asset and people models clean and provide a link between these objects as well as holding all the contractual information between the parties."),Object(l.b)("h2",{id:"our-users-and-their-needs"},"Our users and their needs"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"}," As a service user I need contract information so that: ")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"I can identify the responsible people at the property to contact."),Object(l.b)("li",{parentName:"ul"},"I can identify the contract details such as rates, contract start and end dates.")),Object(l.b)("h2",{id:"workshops"},"Workshops"),Object(l.b)("p",null,"This API was discussed at TDA 25/05/22 off the back of the need to move data off the asset data model."),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",{parentName:"li",href:"https://docs.google.com/document/d/1MYJfzbop_yJhVGlSihhDmAhga6yrbxgCsZWujkYs8AA/edit?usp=sharing"},"https://docs.google.com/document/d/1MYJfzbop_yJhVGlSihhDmAhga6yrbxgCsZWujkYs8AA/edit?usp=sharing"))),Object(l.b)("h2",{id:"endpoints-to-be-created"},"Endpoints to be created"),Object(l.b)("h3",{id:"get-contracts"},"Get Contracts:"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Endpoint Status"),": PROPOSED"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Purpose:"),Object(l.b)("br",{parentName:"p"}),"\n","Gets one or more Contracts from the Contract table.  Requests can be made by specifying a ref path parameter or searching for Tenures based on a series of parameters."),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Endpoint URL's:")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"/contracts")),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Request Path Parameters:")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"targetId - the GUUID id of the target")),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Response:")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"200 OK")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'{\n    "results": [\n        {\n            "id": "ff09ac20-e97e-468d-98b2-a972ba724ed2",\n            "targetId": "72847475-4ef3-4d24-9fd4-6820aeffef0c",\n            "targetType": "asset",\n            "contractType": "contract type",\n            "startDate": "2022-10-11T20:28:41.2041531Z",\n            "endDate": "2023-10-11T20:28:41.2041531Z",\n            "renewalDate": "2023-10-11T20:28:41.2041531Z",\n            "approvalDate": "2023-10-11T20:28:41.2041531Z",\n            "relatedPeople": [\n                {\n                    "id": "00000000-0000-0000-0000-000000000000",\n                    "type": "person",\n                    "subType": "Landlord",\n                    "name": "John Smith",\n                    "email": "john.smith@email.com",\n                    "isResponsible": true,\n                    "description": "Landlord of the building",\n                    "phone": null\n                    "relatedId": "00000000-0000-0000-0000-000000000000",\n                }\n            ],\n            "charges": [\n                {\n                    "id": "00000000-0000-0000-0000-000000000000",\n                    "type": "Rent",\n                    "subType": null,\n                    "frequency": "Monthly",\n                    "amount": 511.3\n                }\n            ],\n            "versionNumber": 0,\n            "fundingSource": null,\n            "costCentre": null,\n            "lhaArea": null,\n            "lhaRate": null,\n            "isActive": true,\n            "isVATRegistered": false,\n            "stage": 1\n        },\n        {\n            "id": "91e9a95c-e9a7-4002-8c9e-d07f0cb27aff",\n            "targetId": "72847475-4ef3-4d24-9fd4-6820aeffef0c",\n            "targetType": "asset",\n            "contractType": "contract type",\n            "startDate": "2022-10-11T20:28:41.2041531Z",\n            "endDate": "2023-10-11T20:28:41.2041531Z",\n            "renewalDate": "2023-10-11T20:28:41.2041531Z",\n            "relatedPeople": [\n                {\n                    "id": "00000000-0000-0000-0000-000000000000",\n                    "type": "person",\n                    "subType": "Landlord",\n                    "name": "John Smith",\n                    "email": "john.smith@email.com",\n                    "isResponsible": true,\n                    "description": "Landlord of the building",\n                    "phone": null\n                }\n            ],\n            "charges": [\n                {\n                    "id": "8c8cea42-4f48-4bbe-8b1b-881526f8410b",\n                    "type": null,\n                    "subType": null,\n                    "frequency": "Daily",\n                    "amount": 34\n                },\n                {\n                    "id": "446cfa93-a688-4545-be6d-806ef0640dd6",\n                    "type": null,\n                    "subType": null,\n                    "frequency": "Weekly",\n                    "amount": 34\n                },\n                {\n                    "id": "00000000-0000-0000-0000-000000000000",\n                    "type": "Rent",\n                    "subType": null,\n                    "frequency": "Monthly",\n                    "amount": 511.35\n                }\n            ],\n            "versionNumber": 2,\n            "fundingSource": null,\n            "costCentre": null,\n            "lhaArea": null,\n            "lhaRate": null\n        },\n        {\n            "id": "c9f62a09-32e6-468b-878f-d36183926113",\n            "targetId": "72847475-4ef3-4d24-9fd4-6820aeffef0c",\n            "targetType": "asset",\n            "contractType": "contract type",\n            "startDate": "2022-10-11T20:28:41.2041531Z",\n            "endDate": "2023-10-11T20:28:41.2041531Z",\n            "renewalDate": "2023-10-11T20:28:41.2041531Z",\n            "relatedPeople": [\n                {\n                    "id": "00000000-0000-0000-0000-000000000000",\n                    "type": "person",\n                    "subType": "Landlord",\n                    "name": "John Smith",\n                    "email": "john.smith@email.com",\n                    "isResponsible": true,\n                    "description": "Landlord of the building",\n                    "phone": null\n                }\n            ],\n            "charges": [\n                {\n                    "id": "00000000-0000-0000-0000-000000000000",\n                    "type": "Rent",\n                    "subType": null,\n                    "frequency": "Monthly",\n                    "amount": 511.3\n                }\n            ],\n            "versionNumber": 0,\n            "fundingSource": null,\n            "costCentre": null,\n            "lhaArea": null,\n            "lhaRate": null\n        },\n        {\n            "id": "2cd25622-99c5-493c-a41d-7688a3d4ad48",\n            "targetId": "72847475-4ef3-4d24-9fd4-6820aeffef0c",\n            "targetType": "asset",\n            "contractType": "some type",\n            "startDate": "2022-11-17T00:00:00Z",\n            "endDate": "2022-11-28T00:00:00Z",\n            "renewalDate": "2022-11-20T00:00:00Z",\n            "relatedPeople": [],\n            "charges": [],\n            "versionNumber": 0,\n            "fundingSource": null,\n            "costCentre": null,\n            "lhaArea": null,\n            "lhaRate": null\n        },\n        {\n            "id": "75985c70-c7fd-49d2-9e60-61c321abd8e2",\n            "targetId": "72847475-4ef3-4d24-9fd4-6820aeffef0c",\n            "targetType": "asset",\n            "contractType": "contract type",\n            "startDate": "2022-10-11T20:28:41.2041531Z",\n            "endDate": "2023-10-11T20:28:41.2041531Z",\n            "renewalDate": "2023-10-11T20:28:41.2041531Z",\n            "relatedPeople": [\n                {\n                    "id": "00000000-0000-0000-0000-000000000000",\n                    "type": "person",\n                    "subType": "Landlord",\n                    "name": "Bob Smith",\n                    "email": "john.smith@email.com",\n                    "isResponsible": true,\n                    "description": "Landlord of the building",\n                    "phone": null\n                }\n            ],\n            "charges": [\n                {\n                    "id": "00000000-0000-0000-0000-000000000000",\n                    "type": "Rent",\n                    "subType": null,\n                    "frequency": "Monthly",\n                    "amount": 1.3\n                }\n            ],\n            "versionNumber": 0,\n            "fundingSource": null,\n            "costCentre": null,\n            "lhaArea": null,\n            "lhaRate": null\n        }\n    ],\n    "paginationDetails": {\n        "nextToken": null\n    }\n}\n')),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"/contracts/{contractId}"),Object(l.b)("p",{parentName:"li"},"Get individual contract"))),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Response:")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"200 OK"),Object(l.b)("pre",{parentName:"li"},Object(l.b)("code",{parentName:"pre",className:"language-json"},'{\n    "id": "c812a6c3-48d0-4df8-b7bb-ab0f91919b0a",\n    "targetId": "017aba03-94f0-434f-8af5-6e9b9ce489b3",\n    "targetType": "asset",\n    "contractType": "SLA",\n    "startDate": "2000-06-05T00:00:00Z",\n    "endDate": "2022-11-17T00:00:00Z",\n    "renewalDate": "2022-11-01T00:00:00Z",\n    "approvalDate": "2023-10-11T20:28:41.2041531Z",\n    "relatedPeople": [],\n    "charges": [\n        {\n            "id": "95d2a92c-d646-4aab-8cf2-06d1671cf9be",\n            "type": "rent",\n            "subType": "ta-rent",\n            "frequency": "Daily",\n            "amount": 22\n        },\n        {\n            "id": "7d2e85b3-4ec0-436e-8035-4d51975db8e7",\n            "type": null,\n            "subType": null,\n            "frequency": "Weekly",\n            "amount": 501\n        },\n        {\n            "id": "7928de91-139e-46ab-adcb-855640b9ec3d",\n            "type": null,\n            "subType": null,\n            "frequency": "Monthly",\n            "amount": 105\n        }\n    ],\n    "versionNumber": 31,\n    "fundingSource": null,\n    "costCentre": null,\n    "lhaArea": null,\n    "lhaRate": null,\n    "isActive": true,\n    "isVATRegistered": false,\n    "stage": 2\n}\n')))),Object(l.b)("h3",{id:"post-contracts"},"POST Contracts:"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Endpoint Status"),": PROPOSED"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Purpose:"),"\nCreate a new Contract"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Endpoint URL's:"),"\n/contracts"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Request object:")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'{\n  "targetId": "72847475-4ef3-4d24-9fd4-6820aeffef0c",\n  "targetType": "asset",\n  "contractType": "contract type",\n  "startDate": "2022-10-11T20:28:41.2041531Z",\n  "endDate": "2023-10-11T20:28:41.2041531Z",\n  "renewalDate": "2023-10-11T20:28:41.2041531Z",\n  "approvalDate": "2023-10-11T20:28:41.2041531Z",\n  "relatedPeople": [\n    {\n      "type": "person",\n      "subType": "Landlord",\n      "name": "Bob Smith",\n      "email": "john.smith@email.com",\n      "isResponsible": true,\n      "description": "Landlord of the building",\n      "relatedId": "00000000-0000-0000-0000-000000000000"\n    }\n  ],\n  "charges": [\n    {\n      "type": "Rent",\n      "frequency": "Monthly",\n      "amount": 1.3\n    }\n  ],\n  "versionNumber": null,\n  "fundingSource": null,\n  "costCentre": null,\n  "lhaArea": null,\n  "lhaRate": null,\n  "isActive": true,\n  "isVATRegistered": false,\n  "stage": null\n}\n')),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Response:")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"201 Created")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'{\n    "id": "75985c70-c7fd-49d2-9e60-61c321abd8e2",\n    "targetId": "72847475-4ef3-4d24-9fd4-6820aeffef0c",\n    "targetType": "asset",\n    "contractType": "contract type",\n    "startDate": "2022-10-11T20:28:41.2041531Z",\n    "endDate": "2023-10-11T20:28:41.2041531Z",\n    "renewalDate": "2023-10-11T20:28:41.2041531Z",\n    "approvalDate": "2023-10-11T20:28:41.2041531Z",\n    "relatedPeople": [\n        {\n            "id": "00000000-0000-0000-0000-000000000000",\n            "type": "person",\n            "subType": "Landlord",\n            "name": "Bob Smith",\n            "email": "john.smith@email.com",\n            "isResponsible": true,\n            "description": "Landlord of the building",\n            "phone": null,\n            "relatedId": "00000000-0000-0000-0000-000000000000"\n        }\n    ],\n    "charges": [\n        {\n            "id": "00000000-0000-0000-0000-000000000000",\n            "type": "Rent",\n            "subType": null,\n            "frequency": "Monthly",\n            "amount": 1.3\n        }\n    ],\n    "versionNumber": 0,\n    "fundingSource": null,\n    "costCentre": null,\n    "lhaArea": null,\n    "lhaRate": null,\n    "isActive": true,\n    "isVATRegistered": false,\n    "stage": null\n}\n')),Object(l.b)("h3",{id:"patch-contracts"},"PATCH Contracts:"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Endpoint Status"),": PROPOSED"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Purpose:"),"\nUpdates a Contract"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Endpoint URL's:"),"\n/contracts/{contractId}"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Request object:")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'{\n  "contractType": "contract type"\n  "startDate": "19-03-2020",\n  "endDate": "29-05-2023",\n  "renewalDate": "29-05-2023",\n  "approvalDate": "2023-10-11T20:28:41.2041531Z",\n  "relatedPeople": [\n    {\n      "id": "d290f1ee-6c54-4b01-90e6-d701748f0851",\n      "type": "person",\n      "subType": "Landlord",\n      "name": "John Smith",\n      "email": "john.smith@email.com",\n      "isResponsible": true,\n      "description": "Landlord of the building",\n      "relatedId": "00000000-0000-0000-0000-000000000000"\n    }\n  ],\n  "charges": [\n    {\n      "id": "d290f1ee-6c54-4b01-90e6-d701748f0851",\n      "type": "Rent",\n      "subType": "Cleaning fee",\n      "frequency": "Monthly",\n      "amount": 50.3\n    }\n  ],\n  "fundingSource": null,\n  "costCentre": null,\n  "lhaArea": null,\n  "lhaRate": null,\n  "isActive": true,\n  "isVATRegistered": true,\n  "stage": 2\n}\n')),Object(l.b)("h3",{id:"put-contracts"},"PUT Contracts:"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Endpoint Status"),": NOT YET PROPOSED"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Purpose:"),"\nUpdates a new Contract"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Endpoint URL's:")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"/contracts/{contractId}")),Object(l.b)("h3",{id:"delete-contracts"},"DELETE Contracts:"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Endpoint Status"),": NOT YET PROPOSED"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Purpose:"),"\nRemoves a new Contract"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Endpoint URL's:")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"/contracts/{contractId}")))}u.isMDXComponent=!0},97:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return m}));var a=t(0),r=t.n(a);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=r.a.createContext({}),i=function(e){var n=r.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},u=function(e){var n=i(e.components);return r.a.createElement(p.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},d=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=i(t),d=a,m=u["".concat(c,".").concat(d)]||u[d]||b[d]||l;return t?r.a.createElement(m,o(o({ref:n},p),{},{components:t})):r.a.createElement(m,o({ref:n},p))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,c=new Array(l);c[0]=d;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,c[1]=o;for(var p=2;p<l;p++)c[p]=t[p];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);